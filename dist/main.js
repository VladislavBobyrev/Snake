(()=>{const r=document.querySelector("canvas"),t=r.getContext("2d"),e=40;let n,o,i=Math.floor(innerWidth/e),l=Math.floor(innerHeight/e),a=()=>{r.width=innerWidth,r.height=innerHeight};a(),h(),addEventListener("resize",a);const w=new Promise((r=>{const t=new Image;t.src="./src/stars.gif",t.onload=()=>r(t)})).then((r=>r));async function h(){const e=await w,n=t.createPattern(e,"repeat");t.fillStyle=n,t.fillRect(0,0,r.width,r.height),c(),A()}setInterval((()=>{h()}),200);const s=[{sx:1,sy:1}];let g=s[0].sx,y=s[0].sy,c=()=>{t.beginPath(),t.arc(g*e+20,y*e+20,20,0,2*Math.PI),t.fillStyle="rgba(11, 102, 77, .7)",t.fill()};addEventListener("keydown",(r=>{"ArrowUp"==r.key&&"ArrowDown"!==n?n="ArrowUp":"ArrowDown"==r.key&&"ArrowUp"!==n?n="ArrowDown":"ArrowLeft"==r.key&&"ArrowRight"!==n?n="ArrowLeft":"ArrowRight"==r.key&&"ArrowLeft"!==n&&(n="ArrowRight")}));const f=[];f[0]={x:8,y:8};let A=()=>{let r=f[0].x,a=f[0].y;for(let r=0;r<f.length;r++)t.beginPath(),t.rect(f[r].x*e,f[r].y*e,e,e),t.fillStyle=r>1&&r<8?"rgba(310, 150, 77, .5)":r>=8&&r<16?"rgba(31, 243, 7, .3)":r>=17&&r<=25?"rgba(11, 102, 77, .3)":r<32?"rgba(119, 12, 77, .7)":"rgba(170, 10, 302, .6)",t.fill(),f[0].x==f[r].x&&f[0].y==f[r].y&&r>0&&(f.length=r);r>i&&(r=0),r<0&&(r=i),a>l&&(a=0),a<0&&(a=l),r==g&&a==y||f.pop(),"ArrowUp"===n?a-=1:"ArrowDown"==n?a+=1:"ArrowLeft"==n?r-=1:"ArrowRight"==n&&(r+=1),o={x:r,y:a},f.unshift(o)}})();