(()=>{const e=document.querySelector("canvas"),t=e.getContext("2d"),r=40;let o,n,i=Math.floor(innerWidth/r),a=Math.floor(innerHeight/r);const l=document.querySelector(".previev");let h=0;document.querySelector("audio").volume=.3,h=addEventListener("keydown",(()=>{l.classList.add("hidden"),h=1}));let s=()=>{e.width=innerWidth,e.height=innerHeight};s(),addEventListener("resize",s);const w=new Promise((e=>{const t=new Image;t.src="./src/stars.gif",t.onload=()=>e(t)})).then((e=>e));setInterval((()=>{!async function(){const r=await w,o=t.createPattern(r,"repeat");t.fillStyle=o,t.fillRect(0,0,e.width,e.height),y(),A()}()}),80);const d=[{sx:14,sy:6}];let c=d[0].sx,g=d[0].sy,y=()=>{t.beginPath(),t.arc(c*r+20,g*r+20,20,0,2*Math.PI),t.fillStyle="rgba(11, 102, 77, .7)",t.fill()};addEventListener("keydown",(e=>{"ArrowUp"==e.key&&"ArrowDown"!==o?o="ArrowUp":"ArrowDown"==e.key&&"ArrowUp"!==o?o="ArrowDown":"ArrowLeft"==e.key&&"ArrowRight"!==o?o="ArrowLeft":"ArrowRight"==e.key&&"ArrowLeft"!==o&&(o="ArrowRight")}));const f=[];f[0]={x:8,y:8};let A=()=>{let e=f[0].x,l=f[0].y;for(let e=0;e<f.length;e++)t.beginPath(),t.rect(f[e].x*r,f[e].y*r,r,r),t.fillStyle=e>1&&e<8?"rgba(310, 150, 77, .5)":e>=8&&e<16?"rgba(31, 243, 7, .3)":e>=17&&e<=25?"rgba(11, 102, 77, .3)":e<32?"rgba(119, 12, 77, .7)":"rgba(170, 10, 302, .6)",t.fill(),f[0].x==f[e].x&&f[0].y==f[e].y&&e>0&&(f.length=e);e>i&&(e=0),e<0&&(e=i),l>a&&(l=0),l<0&&(l=a),e==c&&l==g?(c=Math.floor(Math.random()*i),g=Math.floor(Math.random()*a)):f.pop(),"ArrowUp"===o?l-=1:"ArrowDown"==o?l+=1:"ArrowLeft"==o?e-=1:"ArrowRight"==o&&(e+=1),n={x:e,y:l},f.unshift(n)}})();